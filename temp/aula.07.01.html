<script>

    /*
    
    Os times de uma determinada região do interior do Rio de Janeiro 
    organizaram um campeonato de futebol e precisam de um sistema para 
    controlar os resultados, apurar automaticamente os vencedores e, 
    consequentemente, demonstrar a colocação de cada um na tabela do 
    campeonato.
    
    O campeonato é composto por duas rodadas:
     - Na primeira, os times não se enfrentam todos entre si;
     - Não há empate nas rodadas. Os jogos usam critérios de desempate;
     - Na segunda rodada, o ganhador do jogo A enfrenta o ganhador do jogo B,
       partida de onde sairá o campeão.
    
    Desafio 2:
    
    Refatore o algoritmo para que agora, o sistema tenha a funcionalidade de 
    contabilizar o público pagante e não pagante nas partidas e realizar uma
    premiação sobre o total arrecadado para os times que deverá ser na seguinte
    proporção:​
     - Campeão: 50%. ​
     - Vice-campeão: 30%.​
     - Terceiro e quarto colocados: 10% para cada.
    
    */

    // Inicializando variáveis
    let times = []; // Coleção de times

    // Recebendo os nomes dos times (usando for() e prompt())
    for (i = 1; i <= 4; i++) {
        time = prompt(`Digite o nome do ${i}º time:`);

        // Adiciona time na lista de times
        times.push(time);
    }

    // Debug: verificar os nomes dos times
    console.log(times)

    // Recebendo resultados (gols) do jogo A
    jogoATime1 = parseInt(prompt(`Gols de "${times[0]}" no jogo A da primeira rodada:`));
    jogoATime2 = parseInt(prompt(`Gols de "${times[1]}" no jogo A da primeira rodada:`));

    // Recebendo resultados (gols) do jogo B
    jogoBTime1 = parseInt(prompt(`Gols de "${times[2]}" no jogo B da primeira rodada:`));
    jogoBTime2 = parseInt(prompt(`Gols de "${times[3]}" no jogo B da primeira rodada:`));

    // Calculando ganhador do jogo A
    if (jogoATime1 > jogoATime2) {
        vencedorJogoA = times[0];
    } else {
        vencedorJogoA = times[1];
    }

    // Calculando ganhador do jogo B
    if (jogoBTime1 > jogoBTime2) {
        vencedorJogoB = times[2];
    } else {
        vencedorJogoB = times[3];
    }

    // Debug: verificar ganhadores dos jogos
    console.log(vencedorJogoA, vencedorJogoB);

    // Recebendo resultados (gols) da final
    finalTime1 = parseInt(prompt(`Gols de "${vencedorJogoA}" na final:`));
    finalTime2 = parseInt(prompt(`Gols de "${vencedorJogoB}" na final:`));

    // Calculando ganhador do campeonato
    if (finalTime1 > finalTime2) {
        vencedor = vencedorJogoA;
    } else {
        vencedor = vencedorJogoB;
    }

    // Recebendo dados da receita
    valorIngresso = parseFloat(prompt(`Valor do ingresso em R$:`));
    totalPagantes = parseInt(prompt(`Total de pagantes:`));
    totalNaoPagantes = parseInt(prompt(`Total de não pagantes:`));

    // Calculando público total
    publicoTotal = totalPagantes + totalNaoPagantes;

    // Calculando receita total
    receitaTotal = (valorIngresso * totalPagantes).toFixed(2);

    // Calculando prémios
    premio1 = (receitaTotal * 0.5).toFixed(2);
    premio2 = (receitaTotal * 0.3).toFixed(2);
    premio3 = (receitaTotal * 0.1).toFixed(2);
    premio4 = (receitaTotal * 0.1).toFixed(2);

    // Exibindo resultados no HTML do navegador:
    document.write(`
<pre>
Primeira rodada
    Jogo A: ${times[0]} (${jogoATime1}) x ${times[1]} (${jogoATime2})
    Vencedor: ${vencedorJogoA}

    Jogo B: ${times[2]} (${jogoBTime1}) x ${times[3]} (${jogoBTime2})
    Vencedor: ${vencedorJogoB}

Final
    ${vencedorJogoA} (${finalTime1}) x ${vencedorJogoB} (${finalTime2})
    Vencedor: ${vencedor}

Público
    Total: ${publicoTotal}
    Pagantes: ${totalPagantes}
    Não pagantes: ${totalNaoPagantes}

Arrecadação total: R$ ${receitaTotal}

Premiação
    1º colocado: R$ ${premio1}
    2º colocado: R$ ${premio2}
    3º colocado: R$ ${premio3}
    4º colocado: R$ ${premio4}
</pre>
    `);

</script>